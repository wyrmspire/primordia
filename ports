#!/usr/bin/env bash
set -euo pipefail
SVC=${1:-svc1}
docker ps --format '{{.Names}}\t{{.Ports}}' | sed -n '1,200p'
PORT=$(docker ps --format '{{.Names}}\t{{.Ports}}' \
  | awk -F'\t' -v s="$SVC" '$1==s{print $2}' \
  | sed -nE 's/.*:([0-9]+)->8080.*/\1/p' | head -n1)
[ -n "$PORT" ] && { echo "$SVC port: $PORT"; curl -fsS "http://localhost:${PORT}/" || true; } || echo "$SVC not running"
